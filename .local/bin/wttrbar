#!/bin/env bb

(ns local.bin.wttrbar
  (:require
   [babashka.process :as process]
   [babashka.http-client :as http]
   [clojure.string :as str]))

(def location "pittsburg+california")

(-> (http/get (str "https://wttr.in/" location "?format=3"))
    (#(if (= 200 (:status %1))
       (-> %1
           :body
           str/trim
           (str/replace (str location ": ") ""))
       "NA"))
    (println))
