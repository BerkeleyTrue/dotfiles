#!/bin/sh

MAX=$(brightnessctl max)
CURR=$(brightnessctl get)
MSG=""

if (($CURR >= $MAX)); then
  MSG='  '
else
  brightnessctl set +10%
  CURR=$(brightnessctl get)
  PER=$(awk "BEGIN { pc=100*${CURR}/${MAX}; i=int(pc); print (pc-i<0.5)?i:i+1 }")
  MSG=" $PER "
  if (($CURR >= $MAX)); then
    MSG='  '
  fi
fi

dunstify -a luna $MSG
